(this["webpackJsonptest-incora"]=this["webpackJsonptest-incora"]||[]).push([[0],{14:function(t,e,n){t.exports={detailsButton:"Posts_detailsButton__1vkOb",postsWrapper:"Posts_postsWrapper__1WaIK",titleBlock:"Posts_titleBlock__6lgee",bodyBlock:"Posts_bodyBlock__brxwr",addButton:"Posts_addButton__1fzfO"}},15:function(t,e,n){t.exports={detailsButton:"Details_detailsButton__19LxM",buttons:"Details_buttons__3ct0g",commentsWrapper:"Details_commentsWrapper__1wh-H",singleComment:"Details_singleComment__2pj9I",postContainer:"Details_postContainer__1sDo0"}},23:function(t,e,n){t.exports={userWrapper:"Users_userWrapper__3DvIg",users:"Users_users__3qgNQ",postButton:"Users_postButton__RQpqo",posts:"Users_posts__hv-aL"}},31:function(t,e,n){t.exports={navContainer:"Nav_navContainer__KaB7q",navLink:"Nav_navLink__GR-KT"}},40:function(t,e,n){t.exports={appWrapper:"App_appWrapper__36dQq"}},49:function(t,e,n){},75:function(t,e,n){},76:function(t,e,n){"use strict";n.r(e);var s=n(0),c=n.n(s),r=n(24),o=n.n(r),a=(n(49),n(40)),i=n.n(a),u=n(13),d=n(41),j=n.n(d).a.create({baseURL:"https://jsonplaceholder.typicode.com/"}),l=function(){return j.get("users").then((function(t){return t}))},p=function(t){return j.get("posts?userId=".concat(t)).then((function(t){return t}))},b=function(t,e){return j.post("posts",{titleValue:t,newText:e}).then((function(t){return t}))},O=function(t){return j.delete("posts/".concat(t)).then((function(t){return t}))},h=function(t,e){return j.put("posts/".concat(e),{body:t}).then((function(t){return t}))},f=function(t){return j.get("comments?postId=".concat(t)).then((function(t){return t}))},m=[],x=function(){return function(t){l().then((function(e){console.log(e.data),t({type:"SET-USERS",users:e.data})}))}},v=n(3),_=n(17),T=n(18),C=n(20),g=n(19),y=n(9),P=n(23),N=n.n(P),S=n(1),k=function(t){return Object(S.jsx)("div",{className:N.a.userWrapper,children:t.users.map((function(t){return Object(S.jsxs)("div",{className:N.a.users,children:[Object(S.jsxs)("h3",{children:["Username: ",t.username," ",Object(S.jsx)("br",{}),"Full name: ",Object(S.jsx)("br",{}),t.name]}),Object(S.jsxs)("div",{children:["E-mail: ",Object(S.jsx)("br",{}),t.email]}),Object(S.jsxs)("div",{children:["Address: ",Object(S.jsx)("br",{}),t.address.city," ",Object(S.jsx)("br",{}),t.address.street,", ",t.address.suite," ",Object(S.jsx)("br",{}),t.address.zipcode]}),Object(S.jsxs)("div",{children:["Mobile phone: ",Object(S.jsx)("br",{}),t.phone]}),Object(S.jsxs)("div",{children:["Personal website: ",Object(S.jsx)("br",{}),Object(S.jsxs)(y.b,{to:"",children:[" ",t.website]})]}),Object(S.jsxs)("div",{children:["Company: ",Object(S.jsx)("br",{}),t.company.name," ",Object(S.jsx)("br",{}),"Catchphrase: ",Object(S.jsx)("br",{}),t.company.catchPhrase," ",Object(S.jsx)("br",{}),"Sphere of activity: ",Object(S.jsx)("br",{}),t.company.bs]}),Object(S.jsx)("div",{className:N.a.postButton,children:Object(S.jsx)(y.b,{to:"/user/".concat(t.id),className:N.a.posts,children:"Posts"})})]},t.id)}))})},B=n(11),E=n(10),D=function(t){Object(C.a)(n,t);var e=Object(g.a)(n);function n(){return Object(_.a)(this,n),e.apply(this,arguments)}return Object(T.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsersTC()}},{key:"render",value:function(){return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(k,{users:this.props.users})})}}]),n}(c.a.Component),I=Object(E.c)(Object(B.b)((function(t){return{users:t.users}}),{getUsersTC:x}))(D),w=n(31),W=n.n(w),U=function(){return Object(S.jsx)("nav",{className:W.a.navContainer,children:Object(S.jsx)("div",{children:Object(S.jsx)(y.b,{to:"/users",className:W.a.navLink,children:"Users"})})})},A=n(44),M=[],L=n(12),F=(n(75),function(t){var e=Object(s.useState)(""),n=Object(L.a)(e,2),c=n[0],r=n[1],o=Object(s.useState)(""),a=Object(L.a)(o,2),i=a[0],u=a[1];return Object(S.jsx)("div",{className:t.active?"modal active":"modal",onClick:function(){return t.setActive(!t.active)},children:Object(S.jsxs)("div",{className:t.active?"modal_content active":"modal_content",onClick:function(t){return t.stopPropagation()},children:[Object(S.jsx)("h2",{children:"Write a new post:"}),Object(S.jsx)("div",{children:Object(S.jsx)("input",{value:c,onChange:function(t){return r(t.currentTarget.value)},placeholder:"Title",className:"addNewTitle"})}),Object(S.jsx)("div",{children:Object(S.jsx)("textarea",{value:i,onChange:function(t){return u(t.currentTarget.value)},placeholder:"Your message",className:"addNewText"})}),Object(S.jsx)("div",{children:Object(S.jsx)("button",{onClick:function(){return function(e,n){t.addPost(e,n),t.setActive(!1)}(c,i)},className:"sendButton",children:"Send"})})]})})}),R=n(14),q=n.n(R),K=function(t){var e=Object(s.useState)(!1),n=Object(L.a)(e,2),c=n[0],r=n[1],o=t.posts.map((function(t){return Object(S.jsxs)("div",{className:q.a.postsWrapper,children:[Object(S.jsx)("h4",{className:q.a.titleBlock,children:t.title}),Object(S.jsx)("div",{className:q.a.bodyBlock,children:t.body}),Object(S.jsx)("div",{children:Object(S.jsx)(y.b,{to:"/user/".concat(t.userId,"/postInfo/").concat(t.id),className:q.a.detailsButton,children:"Details"})})]},t.id)}));return Object(S.jsxs)("div",{children:[Object(S.jsx)(F,{active:c,setActive:r,addPost:function(e,n){t.addPost(e,n)}}),Object(S.jsx)("div",{className:q.a.titleBlock,children:Object(S.jsx)("h2",{children:"My posts:"})}),Object(S.jsx)("div",{className:q.a.addButton,children:Object(S.jsx)("button",{onClick:function(){return r(!0)},className:q.a.detailsButton,children:"Add new"})}),Object(S.jsx)("div",{children:o})]})},Q=function(t){Object(C.a)(n,t);var e=Object(g.a)(n);function n(){return Object(_.a)(this,n),e.apply(this,arguments)}return Object(T.a)(n,[{key:"componentDidMount",value:function(){var t=+this.props.match.params.userId;this.props.getPostsTC(t)}},{key:"render",value:function(){return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(K,{posts:this.props.posts,addPost:this.props.addPostTC})})}}]),n}(c.a.Component),V=Object(E.c)(v.e,Object(B.b)((function(t){return{posts:t.posts}}),{getPostsTC:function(t){return function(e){p(t).then((function(t){console.log(t.data),e({type:"SET-POSTS",posts:t.data})}))}},addPostTC:function(t,e){return function(n){b(t,e).then((function(s){console.log(s.data),n(function(t,e){return{type:"ADD-POST",titleValue:t,newText:e}}(t,e))}))}}}))(Q),z=n(15),J=n.n(z),G=function(t){var e,n=String(null===(e=t.posts.find((function(e){return e.id===+t.postId})))||void 0===e?void 0:e.body),c=Object(s.useState)(!0),r=Object(L.a)(c,2),o=r[0],a=r[1],i=Object(s.useState)(n),u=Object(L.a)(i,2),d=u[0],j=u[1];return Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:"".concat(J.a.commentsWrapper," ").concat(J.a.postContainer),children:[Object(S.jsxs)("h2",{style:{width:"100%",textAlign:"center"},children:["Post: ",Object(S.jsx)("br",{})]}),Object(S.jsx)("div",{onDoubleClick:function(){return a(!1)},children:o?Object(S.jsx)("p",{children:n}):Object(S.jsx)("textarea",{autoFocus:!0,value:d,onChange:function(t){return j(t.currentTarget.value)}})})]}),Object(S.jsxs)("div",{className:J.a.buttons,children:[Object(S.jsx)("button",{className:J.a.detailsButton,onClick:function(){return(e=d)&&(t.updatePostTC(e,t.postId),j(e)),void a(!0);var e},children:"Edit"}),Object(S.jsx)("button",{className:J.a.detailsButton,onClick:function(){return e=t.postId,void t.deletePost(e);var e},children:"Delete"})]}),Object(S.jsxs)("div",{className:J.a.commentsWrapper,children:[Object(S.jsxs)("h2",{style:{color:"indigo"},children:["Comments:",Object(S.jsx)("br",{})]}),t.comments.map((function(t){return Object(S.jsxs)("div",{className:J.a.singleComment,children:[Object(S.jsxs)("h4",{children:[t.name," ",Object(S.jsx)("br",{}),t.email]}),Object(S.jsx)("div",{children:t.body})]},t.id)}))]})]})},H=[],Y=function(t){Object(C.a)(n,t);var e=Object(g.a)(n);function n(){return Object(_.a)(this,n),e.apply(this,arguments)}return Object(T.a)(n,[{key:"componentDidMount",value:function(){var t=+this.props.match.params.id;this.props.getCommentsTC(t)}},{key:"render",value:function(){return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(G,{comments:this.props.comments,posts:this.props.posts,postId:+this.props.match.params.id,updatePostTC:this.props.updatePostTC,deletePost:this.props.deletePostTC})})}}]),n}(c.a.Component),X=Object(E.c)(v.e,Object(B.b)((function(t){return{comments:t.comments,posts:t.posts}}),{getCommentsTC:function(t){return function(e){f(t).then((function(t){console.log(t.data),e({type:"SET-COMMENTS",posts:t.data})}))}},deletePostTC:function(t){return function(e){O(t).then((function(n){console.log(n.data),e(function(t){return{type:"DELETE-POST",postId:t}}(t))}))}},updatePostTC:function(t,e){return function(n){h(t,e).then((function(s){n(function(t,e){return{type:"UPDATE-POST",postId:e,body:t}}(t,e))}))}}}))(Y),Z=function(){var t=Object(B.c)();return Object(s.useEffect)((function(){t(x())}),[t]),Object(S.jsxs)("div",{className:i.a.appWrapper,children:[Object(S.jsx)(U,{}),Object(S.jsx)(v.a,{path:"/users",render:function(){return Object(S.jsx)(I,{})}}),Object(S.jsx)(v.a,{path:"/user/:userId",exact:!0,render:function(){return Object(S.jsx)(V,{})}}),Object(S.jsx)(v.a,{path:"/user/:userId/postInfo/:id",render:function(){return Object(S.jsx)(X,{})}})]})},$=n(43),tt=Object(E.b)({users:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET-USERS":return e.users.map((function(t){return Object(u.a)({},t)}));default:return t}},posts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET-POSTS":return e.posts.map((function(t){return Object(u.a)({},t)}));case"ADD-POST":return[{userId:1,id:101,title:e.titleValue,body:e.newText}].concat(Object(A.a)(t));case"DELETE-POST":return t.filter((function(t){return t.id!==e.postId}));case"UPDATE-POST":return t.map((function(t){return t.id===e.postId?Object(u.a)(Object(u.a)({},t),{},{body:e.body}):t}));default:return t}},comments:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET-COMMENTS":return e.posts.map((function(t){return Object(u.a)({},t)}));default:return t}}}),et=Object(E.d)(tt,Object(E.a)($.a));window.store=et,o.a.render(Object(S.jsx)(y.a,{children:Object(S.jsx)(B.a,{store:et,children:Object(S.jsx)(Z,{})})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.9eef5637.chunk.js.map